angular.module("metatags",[]).provider("MetaTags",function(){var t={},r={};this.when=function(r,e){return t[r]=e,this},this.otherwise=function(t){return r=t,this};var e=function(e){for(var n={},i=Object.keys(t),o=i.length,a={},f=0;o>f;f++){var s=i[f],l=t[s],h=Object.keys(l),u=s.split("/").filter(Boolean),c=u.length,g=e.split("/").filter(Boolean),v=g.length,p=!0;if(c===v){for(var y=0;v>y;y++)if(0!==u[y].indexOf(":")){if(g[y]!==u[y]){p=!1,a=[];break}}else a[g[y]]=u[y];var $=h.length;if(p){for(var b=0;$>b;b++){var d=h[b];if("string"==typeof l[d]&&(n[d]=l[d]),"function"==typeof l[d]){var k=l[d].apply(this,Object.keys(a));if("string"!=typeof k)throw new Error(l[d].toString()+" should return a string");n[d]=k}}for(var m in a)for(var w in n)n[w]=n[w].replace(a[m],m)}else for(var O in r)n[O]=r[O];return n}p=!1}};this.$get=["$rootScope","$location",function(t,r){var n=function(){path=r.path(),info=e(path);for(var n in info)t.metatags[n]=info[n]};return{initialize:function(){t.metatags={},t.$on("$routeChangeSuccess",n)}}}]});