angular.module("metatags",[]).provider("MetaTags",function(){var t={},r={},e={};this.when=function(r,e){return t[r]=e,this},this.otherwise=function(t){return r=t,this};var n=function(n){for(var i=Object.keys(t),a=i.length,o={},f=0;a>f;f++){var s=i[f],l=t[s],h=Object.keys(l),u=s.split("/").filter(Boolean),c=u.length,g=n.split("/").filter(Boolean),v=g.length,p=!0;if(c===v){for(var y=0;v>y;y++)if(0!==u[y].indexOf(":")){if(g[y]!==u[y]){p=!1,o=[];break}}else o[g[y]]=u[y];var $=h.length;if(p){for(var b=0;$>b;b++){var d=h[b];if("string"==typeof l[d]&&(e[d]=l[d]),"function"==typeof l[d]){var k=l[d].apply(this,Object.keys(o));if("string"!=typeof k)throw new Error(l[d].toString()+" should return a string");e[d]=k}}for(var m in o)for(var w in e)e[w]=e[w].replace(o[m],m)}else for(var O in r)e[O]=r[O];return e}p=!1}};this.$get=["$rootScope","$location",function(t,r){var i=function(){path=r.path(),e=n(path);for(var i in e)t.metatags[i]=e[i]};return{initialize:function(){t.metatags={},t.$on("$routeChangeSuccess",i)}}}]});